{{ header }}{{ column_left }} 
<div id="content">
  <div class="page-header">
    <div class="container-fluid">
      <div class="pull-right">
        <button type="submit" form="oip-form" data-toggle="tooltip" title="{{ button_save }}" class="btn btn-primary"><i class="fa fa-save"></i></button>
        <button id="apply" data-toggle="tooltip" title="{{ button_apply }}" class="btn btn-success"><i class="fa fa-save"></i> {{ button_apply }}</button>
        <a href="{{ cancel }}" data-toggle="tooltip" title="{{ button_cancel }}" class="btn btn-default"><i class="fa fa-reply"></i></a>
      </div>
      <h1>{{ heading_title }}</h1>
      <ul class="breadcrumb">
        {% for breadcrumb in breadcrumbs %} 
        <li><a href="{{ breadcrumb['href'] }}">{{ breadcrumb['text'] }}</a></li>
        {% endfor %} 
      </ul>
    </div>
  </div>
  <div class="container-fluid">
    {% if (error_warning) %} 
    <div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> {{ error_warning }} 
      <button type="button" class="close" data-dismiss="alert">×</button>
    </div>
    {% endif %} 
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title"><i class="fa fa-pencil"></i>{{ text_edit }}</h3>
      </div>
      <div class="panel-body">
        <form action="{{ action }}" method="post" enctype="multipart/form-data" id="oip-form" class="form-horizontal">
          <div class="row">
            <div class="col-sm-3">
              <ul class="nav nav-pills nav-stacked">
                <li class="active"><a href="#tab-general" data-toggle="tab"><i class="fa fa-cogs" aria-hidden="true"></i> {{ tab_general }}</a></li>
                <li><a href="#tab-layout" data-toggle="tab"><i class="fa fa-table" aria-hidden="true"></i> {{ tab_layout }}</a></li>
                <li><a href="#tab-product-details" data-toggle="tab"><i class="fa fa-list-alt" aria-hidden="true"></i> {{ tab_product_details }}</a></li>
                <li><a href="#tab-additional" data-toggle="tab"><i class="fa fa-wrench" aria-hidden="true"></i> {{ tab_additional_settings }}</a></li>
                <li><a href="#tab-support" data-toggle="tab"><i class="fa fa-support" aria-hidden="true"></i> {{ tab_support }}</a></li>
              </ul>
            </div>
            <div class="col-sm-9">
              <div class="tab-content">
                <!-- Tab General -->
                <div class="tab-pane active" id="tab-general">
                  <div class="form-group">
                    <label class="col-sm-4 control-label">{{ entry_status }}</label>
                    <div class="col-sm-8">
                      <input type="checkbox" name="status" value="1" {{ status ? 'checked' : '' }} data-offstyle="danger" class="btn-toggle hidden">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">{{ entry_not_required_option }}</label>
                    <div class="col-sm-8">
                      <input type="checkbox" name="config[not_required_option]" value="1" {{ not_required_option ? 'checked' : '' }} class="btn-toggle hidden">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">{{ entry_live_price_update }}</label>
                    <div class="col-sm-8">
                      <input type="checkbox" name="config[live_price_update]" value="1" {{ live_price_update ? 'checked' : '' }} class="btn-toggle hidden">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">{{ entry_select_first_value }}</label>
                    <div class="col-sm-8">
                      <input type="checkbox" name="config[select_first_values]" value="1" {{ select_first_values ? 'checked' : '' }} class="btn-toggle hidden">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">{{ entry_load_datetimepicker }}</label>
                    <div class="col-sm-8">
                      <input type="checkbox" name="config[load_datetimepicker]" value="1" {{ load_datetimepicker ? 'checked' : '' }} class="btn-toggle hidden">
                    </div>
                  </div>
                </div>
                <!-- Tab Layout -->
                <div class="tab-pane" id="tab-layout">
                  <div class="form-group">
                    <label class="col-sm-4 control-label">{{ entry_show_product_thumb }}</label>
                    <div class="col-sm-8">
                      <input type="checkbox" name="config[show_product_thumb]" value="1" {{ show_product_thumb ? 'checked' : '' }} class="btn-toggle hidden">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">{{ entry_show_product_details }}</label>
                    <div class="col-sm-8">
                      <input type="checkbox" name="config[show_product_details]" value="1" {{ show_product_details ? 'checked' : '' }} class="btn-toggle hidden">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">{{ entry_show_description }}</label>
                    <div class="col-sm-8">
                      <input type="checkbox" name="config[show_description]" value="1" {{ show_description ? 'checked' : '' }} class="btn-toggle hidden">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">{{ entry_show_quantity }}</label>
                    <div class="col-sm-8">
                      <input type="checkbox" name="config[show_quantity]" value="1" {{ show_quantity ? 'checked' : '' }} class="btn-toggle hidden">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">{{ entry_show_total_price }}</label>
                    <div class="col-sm-8">
                      <input type="checkbox" name="config[show_total_price]" value="1" {{ show_total_price ? 'checked' : '' }} class="btn-toggle hidden">
                    </div>
                  </div>
                </div>
                <!-- Tab Product Details -->
                <div class="tab-pane" id="tab-product-details">
                  <div class="form-group">
                    <label class="col-sm-4 control-label">{{ entry_show_brand }}</label>
                    <div class="col-sm-8">
                      <input type="checkbox" name="config[show_brand]" value="1" {{ show_brand ? 'checked' : '' }} class="btn-toggle hidden">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">{{ entry_show_model }}</label>
                    <div class="col-sm-8">
                      <input type="checkbox" name="config[show_model]" value="1" {{ show_model ? 'checked' : '' }} class="btn-toggle hidden">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">{{ entry_show_sku }}</label>
                    <div class="col-sm-8">
                      <input type="checkbox" name="config[show_sku]" value="1" {{ show_sku ? 'checked' : '' }} class="btn-toggle hidden">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">{{ entry_show_reward }}</label>
                    <div class="col-sm-8">
                      <input type="checkbox" name="config[show_reward]" value="1" {{ show_reward ? 'checked' : '' }} class="btn-toggle hidden">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">{{ entry_show_stock }}</label>
                    <div class="col-sm-8">
                      <input type="checkbox" name="config[show_stock]" value="1" {{ show_stock ? 'checked' : '' }} class="btn-toggle hidden">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">{{ entry_show_price }}</label>
                    <div class="col-sm-8">
                      <input type="checkbox" name="config[show_price]" value="1" {{ show_price ? 'checked' : '' }} class="btn-toggle hidden">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">{{ entry_show_tax }}</label>
                    <div class="col-sm-8">
                      <input type="checkbox" name="config[show_tax]" value="1" {{ show_tax ? 'checked' : '' }} class="btn-toggle hidden">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">{{ entry_show_points }}</label>
                    <div class="col-sm-8">
                      <input type="checkbox" name="config[show_points]" value="1" {{ show_points ? 'checked' : '' }} class="btn-toggle hidden">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">{{ entry_show_discounts }}</label>
                    <div class="col-sm-8">
                      <input type="checkbox" name="config[show_discounts]" value="1" {{ show_discounts ? 'checked' : '' }} class="btn-toggle hidden">
                    </div>
                  </div>
                </div>
                <!-- Tab Additional Settings -->
                <div class="tab-pane" id="tab-additional">
                  <div class="form-group">
                    <label class="col-sm-3 control-label">{{ entry_popup_style }}</label>
                    <div class="col-sm-4">
                      <label for="popup_width">{{ text_max_width }}</label>
                      <input type="number" id="popup_width" name="config[popup_width]" class="form-control" max="2000" min="0" value="{{ popup_width }}">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-3 control-label">{{ entry_product_thumb_size }}</label>
                    <div class="col-sm-4">
                      <label for="product_thumb_width">{{ text_width }}</label>
                      <input type="number" id="product_thumb_width" name="config[product_thumb_width]" class="form-control" max="1000" min="0" value="{{ product_thumb_width }}">
                    </div>
                    <div class="col-sm-4">
                      <label for="product_thumb_height">{{ text_height }}</label>
                      <input type="number" id="product_thumb_height" name="config[product_thumb_height]" class="form-control" max="1000" min="0" value="{{ product_thumb_height }}">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-3 control-label">{{ entry_option_image_size }}</label>
                    <div class="col-sm-4">
                      <label for="option_image_width">{{ text_width }}</label>
                      <input type="number" id="option_image_width" name="config[option_image_width]" class="form-control" max="200" min="0" value="{{ option_image_width }}">
                    </div>
                    <div class="col-sm-4">
                      <label for="option_image_height">{{ text_height }}</label>
                      <input type="number" id="option_image_height" name="config[option_image_height]" class="form-control" max="200" min="0" value="{{ option_image_height }}">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-3 control-label">{{ entry_custom_css }}</label>
                    <div class="col-sm-9" style="min-width: 100px;">
                      <textarea name="custom_css" rows="10" placeholder="{{ text_enter_your_code }}" class="form-control custom-css">{{ custom_css }}</textarea>
                    </div>
                  </div>
                </div>
                <!-- Tab Support -->
                <div class="tab-pane" id="tab-support">
                  <fieldset>
                    <legend class="apc-legend">{{ text_need_help }}</legend>
                    <p>{{ text_contact_us }} <a href="{{ support_href }}" target="_blank"><strong>{{ support_email }}</strong></a></p>
                    <p>{{ text_provide_credentials }}</p>
                  </fieldset>
                </div>
              </div>
            </div>
          </div>
          <br><br>
        </form>
      </div>
      <div class="panel-footer">
        <div class="row">
          <div class="col-sm-6">
            <h4>{{ heading_title }}</h4>
            <span>{{ text_version }} {{ module_version }}</span>
          </div>
          <div class="col-sm-6 text-right">
            <span>{{ text_copyright }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  $(".btn-toggle").bootstrapToggle({
    height: 35,
    width: 90,
    onstyle: 'success',
    on: '{{ text_enabled }}',
    off: '{{ text_disabled }}'
  });
  $("#apply").on("click", function() {
    $.ajax({
      type: "post",
      data: $("#oip-form").serialize(),
      url: "{{ apply_url }}",
      dataType: "json",
      beforeSend: function() {
        $("#oip-form").fadeTo("slow", 0.5);
        $(".alert-success, .alert-danger, .text-danger").remove();
      },
      complete: function() {
        $("#oip-form").fadeTo("slow", 1);
      },
      success: function(json) {
        $(".alert-success, .alert-danger, .text-danger").remove();
        if (json.error) {
          $("#content > .container-fluid").prepend(
            '<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> ' +
            json.error +
            ' <button type="button" class="close" data-dismiss="alert">×</button></div>'
          );
        }
        if (json.success) {
          setTimeout(function() {
            $("#content > .container-fluid").prepend(
              '<div class="alert alert-success"><i class="fa fa-check-circle"></i> ' +
              json.success +
              ' <button type="button" class="close" data-dismiss="alert">×</button></div>'
            );
          }, 1000);
        }
      },
      error: function(xhr, status, error) {
        location.reload();
      }
    })
  });
</script>
{{ footer }} 
